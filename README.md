# Финальный проект 3 спринта
### Тестируемый сайт
https://stellarburgers.nomoreparties.site


### Задачи
    Регистрация:
        • Успешную регистрацию - выполнено (test_registration)
        • Ошибку для некорректного пароля - выполнено (test_field_password_lower_6)
    
    Вход:
        • Вход по кнопке «Войти в аккаунт» на главной странице - выполнено (test_authorization_button_login)
        • Вход через кнопку «Личный кабинет» - выполнено (test_authorization_button_personal_account)
        • Вход через кнопку в форме регистрации - выполнено (test_authorization_menu_registration)
        • Вход через кнопку в форме восстановления пароля - выполнено (test_authorization_in_menu_password_recovery)
    
    Переход в личный кабинет:
        • Проверь переход по клику на «Личный кабинет» - выполнено (test_transition_to_personal_account)

    Переход из личного кабинета в конструктор:
        • Проверь переход по клику на «Конструктор» и на логотип Stellar Burgers - выполнил (test_transition_constructor, test_transition_logo)

    Выход из аккаунта:
        • Проверь выход по кнопке «Выйти» в личном кабинете - выполнено (test_exit_accout)

    Раздел «Конструктор»:
        Проверь, что работают переходы к разделам: - выполнено (test_navigation_food_menu)
        • «Булки»
        • «Соусы»
        • «Начинки»
    
    Дополнительное задание:
        Напиши функцию, которая генерирует логины и пароли (Помни что логин это email). - выполнено

## Краткое описание
`GenerateUser.py`генерирует рандомного юзера из заданных данных `list_FirstName` и `list_FirstName` - список\
`Email` - комбинация `Имя + Фамилия + случайное трехзначное число + @mail.ru`\
`Password` - комбинация `случайное трехзначное число + 
Имя + случайное трехзначное число`


Во всех тестах кроме `test_registration` для авторизации используются данные `логин - EvgeniyGrekov231@mail.ru, пароль - 123456` 
так как при изолированном запуске тестов с параметром `scope='function'` данные юзера для тестов генерироваться не будут


`@pytest.mark.skip()` используется для пропуска тестов (при необходимости)




### Параметры `pytest.fixture`
`pytest.fixture` имеем параметр `scope` которому можно присвоить одно из двух значений:
1. `session` - браузер отработает все тесты в рамках одной сессии (можно использовать `GenerateUser.py` предварительно заменив переменные в тестах)
2. `function` - при каждом новом тесте браузер будет перезапускаться

Драйвер будет запускаться с параметром `maximize_window()` и сразу открывать страницу `https://stellarburgers.nomoreparties.site/`
для всех тестов.


### Индикаторы для верификации выполнения тестов
`test_registration`:
1. После регистрации можно перейти в личный кабинет
2. В личном кабинете видно почту указанную при регистрации
---
`test_field_password_lower_6`:
1. Отображается уведомление "Некорректный пароль"
---
`test_transition_to_personal_account`; `test_authorization_button_personal_account`; `test_authorization_button_login`; `test_authorization_in_menu_password_recovery`; `test_authorization_menu_registration`:
1. После авторизации возможно перейти в личный кабинет
2. Отображается кнопка "Выход" доступная только в личном кабинете
---
`test_transition_constructor`;`test_transition_logo`:
1. Отображается надпись "Соберите бургер" доступная только на главной странице
2. Текущий URL главной страницы
---
`test_navigation_food_menu`:
1. Список выбранной опции содержит столько элементов сколько доступно пульзователю для выбора
2. Все элементы из группы товаров доступен для просмотра и выбора
3. Видно надпись в меню которая соответствует выбранной группе товаров 

### Используемые локаторы


| Локаторы кнопок "header" |                 XPATH                 |
|:-------------------------|:-------------------------------------:|
| Конструктор              |     `.//p[text()='Конструктор']`      |
| Лента заказов            |    `.//p[text()='Лента Заказов']`     |
| Логотип                  |           `.//a[@href='/']`           |
| Личный кабинет           |    `.//p[text()='Личный Кабинет']`    |
| Войти в аккаунт          | `.//button[contains(text(),'Войти')]` |

| Локаторы меню "Конструктор" |              XPATH               |
|:----------------------------|:--------------------------------:|
| кнопка "Булки"              |  `.//div/div/*[text()='Булки']`  |
| кнопка "Соусы"              |  `.//div/div/*[text()='Соусы']`  |
| кнопка "Начинки"            | `.//div/div/*[text()='Начинки']` |
| текст меню "Булки"          |     `.//h2[text()='Булки']`      |
| текст меню "Соусы"          |     `.//h2[text()='Соусы']`      |
| текст меню "Начинки"        |    `.//h2[text()='Начинки']`     |

| Списки товаров |           XPATH           |
|:---------------|:-------------------------:|
| Булки          | `.//section/div/ul[1]/a`  |
| Соусы          | `.//section/div/ul[2]/a`  |
| Начинки        | `.//section/div/ul[3]/a`  |

| Форма "Регистрация аккаунта" |                  XPATH                   |
|:-----------------------------|:----------------------------------------:|
| Поле "Имя"                   |        `.//input[(@name='name')]`        |
| Поле "Email"                 |        `.//input[(@name='name')]`        |
| Поле "Пароль"                |        `.//input[@name='Пароль']`        |
| Кнопка "Зарегистриароваться" | `.//button[text()='Зарегистрироваться']` |
| Кнопка "Войти"               |          `.//*[text()='Войти']`          |

| Форма "Авторизация" |             XPATH             |
|:--------------------|:-----------------------------:|
| Поле "Email"        |  `.//input[(@name='name')]`   |
| Поле "Пароль"       | `.//input[(@name='Пароль')]`  |
| Кнопка "Войти"      |    `.//*[text()='Войти']`     |


| Личный кабинет |            XPATH            |
|:---------------|:---------------------------:|
| Кнопка "Выход" | `.//button[text()='Выход']` |


| Информация          |                    XPATH                     |
|:--------------------|:--------------------------------------------:|
| Некорректный пароль |     `.//p[text()='Некорректный пароль']`     |
| Соберите бургер     |      `.//h1[text()='Соберите бургер']`       |
| Email из ЛК         | `.//input[(@value='{email_value.lower()}')]` |













